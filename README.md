# donaldtrump.js

The tremendous Markov chain bot that tweets like Trump and some friends of mine.

## Installation

donaldtrump.js needs some infrastructure to run, so bear with me.

You'll need to set up environment variables containing your `consumerKey` and
`consumerSecret`. To do so, you'll first need to [create an app with Twitter](https://apps.twitter.com/),
then:

```
$ export CONSUMER_KEY=<your_app_key>
$ export CONSUMER_SECRET=<your_app_secret>
```

Once you've done this, you'll need a local MongoDB instance running
(unless you have a Mongo URI that you would like to associate
with the environment variable `MONGODB_URI`):

```
# Get Mongo if you don't already have it
$ brew update && brew install mongodb

# Make a database directory locally
$ mkdir -p ./data/db

# Start the Mongo daemon pointing at that directory
$ mongod --dbpath ./data/db
```

Finally, you can run the app:

```
# Yarn is cool
$ brew install yarn

# Install dependencies
$ yarn

# Start in development mode
$ yarn dev
```

Output should appear on your console. At this time, the app should run
interactively. Set `NODE_ENV` to something truthy to run in production mode.

## Options

There are various options that you can configure in `options.json` at the base
of this repository:

#### Digester Options

`accounts`: An array of Twitter handles to target.

`pollingIntervalHours`: The number of hours that should pass before
donaldtrump.js polls `accounts` for fresh Tweets.

#### Tweeter Options

`tweetingIntervalHours`: The number of hours that should pass before
donaldtrump.js tweets to the account stored in the database.

`suppressNewLines`: If `1`, removes new line characters. `0` skips this rule.

`suppressReplies`: If `2`, completely removes replies. `1` changes @ replies to .@ mentions.
`0` skips this rule.

`suppressMentions`: If `1`, removes mentions (and replies). `0` skips this rule.

`suppressLinks`: If `1`, removes links. `0` skips this rule.

`suppressRetweets`: If `1`, removes retweets of the form `RT @somehandle:`.
`0` skips this rule.

#### Markov Chain Options

`genesis`: A Twitter handle to act as the start for all tweets created by the bot.
Remove this to use all accounts as the genesis.

`markovOrder`: The order of the Markov chain generated by donaldtrump.js. `2` is
considered a reasonable value. Anything less than `2` is considered more "chaotic"
and anything more than `2` is considered more "structured". Must be an integer.

## Monitoring the Database

I personally use [MongoHub](https://github.com/jeromelebel/MongoHub-Mac)
to monitor the Mongo database as donaldtrump.js operates. For testing
purposes, simply choose the plus button in the lower left-hand corner
and name it something sensible (like `fake-news.db`), then press "Add".
